<pre>
<h3>
<a href="https://github.com/zachjs/sv2v" target="_blank">zachjs-sv2v</a>
</h3>
description: Tests imported from yosys
should_fail: 0
tags: yosys
incdirs: 
top_module: 
files: <a href="../../../../third_party/tools/yosys/tests/simple/fsm.v.html" target="file-frame">third_party/tools/yosys/tests/simple/fsm.v</a>


module fsm_test (
	clk,
	reset,
	button_a,
	button_b,
	red_a,
	green_a,
	red_b,
	green_b
);
	input clk;
	input reset;
	input button_a;
	input button_b;
	output reg red_a;
	output reg green_a;
	output reg red_b;
	output reg green_b;
	(* gentb_constant = 0 *) wire reset;
	integer state;
	reg [3:0] cnt;
	always @(posedge clk) begin
		cnt <= 0;
		red_a <= 1;
		red_b <= 1;
		green_a <= 0;
		green_b <= 0;
		if (reset) state <= 100;
		else case (state)
			100: begin
				if ((button_a && (! button_b))) state <= 200;
				if (((! button_a) && button_b)) state <= 300;
			end
			200: begin
				red_a <= 0;
				green_a <= 1;
				cnt <= (cnt + 1);
				if ((cnt == 5)) state <= 210;
			end
			210: begin
				red_a <= 0;
				green_a <= cnt[0];
				cnt <= (cnt + 1);
				if ((cnt == 10)) state <= 100;
			end
			300: begin
				red_b <= 0;
				green_b <= 1;
				cnt <= (cnt + 1);
				if ((cnt == 5)) state <= 310;
			end
			310: begin
				red_b <= 0;
				green_b <= cnt[0];
				cnt <= (cnt + 1);
				if ((cnt == 10)) state <= 100;
			end
		endcase
	end
endmodule


</pre>