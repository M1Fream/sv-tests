<head>
  <style>
    .log { font-family: "Courier New", Consolas, monospace; font-size: 80%; }
    .test-failed { background-color: #ffaaaa; }
    .test-passed { background-color: #aaffaa; }
  </style>
</head>
<body>
<h3><a href="https://github.com/zachjs/sv2v" target="_blank">zachjs-sv2v</a></h3>
<pre class="test-passed">
description: Tests imported from basejump
should_fail: 0
tags: basejump
incdirs: /home/travis/build/SymbiFlow/sv-tests/third_party/cores/basejump_stl/common
top_module: 
type: parsing
mode: parsing
files: <a href="../../../../third_party/cores/basejump_stl/common/mbt_fifo_vl.v.html" target="file-frame">third_party/cores/basejump_stl/common/mbt_fifo_vl.v</a>
time_elapsed: 0.035s
ram usage: 10460 KB
</pre>
<pre class="log">

module mbt_fifo_vl (
	clk,
	din,
	enque,
	deque,
	clear,
	dout,
	empty,
	full,
	almost_full,
	valid
);
	parameter I_WIDTH = 17;
	parameter A_WIDTH = 10;
	parameter LG_DEPTH = 3;
	parameter ALMOST_DIST = 1;
	input clk;
	input [((I_WIDTH + A_WIDTH) - 1):0] din;
	input enque;
	input deque;
	input clear;
	output [((I_WIDTH + A_WIDTH) - 1):0] dout;
	output empty;
	output full;
	output almost_full;
	output valid;
	localparam ALMOST_COUNT = ((2 ** LG_DEPTH) - ALMOST_DIST);
	reg [((I_WIDTH + A_WIDTH) - 1):0] storage [((2 ** LG_DEPTH) - 1):0];
	reg [LG_DEPTH:0] count_r;
	reg [(LG_DEPTH - 1):0] rptr_r;
	reg [(LG_DEPTH - 1):0] wptr_r;
	reg error_r;
	assign full = (count_r == {1&#39;b1, {LG_DEPTH {1&#39;b0}}});
	assign almost_full = (count_r &gt;= ALMOST_COUNT);
	assign empty = (count_r == 0);
	assign valid = !empty;
	assign dout = storage[rptr_r];
	always @(posedge clk)
		if (enque)
			storage[wptr_r] &lt;= din;
	always @(posedge clk)
		if (clear) begin
			rptr_r &lt;= 0;
			wptr_r &lt;= 0;
			count_r &lt;= 0;
			error_r &lt;= 1&#39;b0;
		end
		else begin
			rptr_r &lt;= (rptr_r + deque);
			wptr_r &lt;= (wptr_r + enque);
			count_r &lt;= ((count_r + enque) - deque);
			if ((full &amp; enque))
				$display(&#34;%m error: wrote full fifo at time %t&#34;, $time);
			if ((empty &amp; deque))
				$display(&#34;%m error: deque empty fifo at time %t&#34;, $time);
			error_r &lt;= ((error_r | (full &amp; enque)) | (empty &amp; deque));
		end
endmodule

</pre>
</body>