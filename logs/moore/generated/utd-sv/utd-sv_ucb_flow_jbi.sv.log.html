<head>
  <style>
    .log { font-family: "Courier New", Consolas, monospace; font-size: 80%; }
    .test-failed { background-color: #ffaaaa; }
    .test-passed { background-color: #aaffaa; }
  </style>
</head>
<body>
<h3><a href="http://llhd.io/" target="_blank">moore</a></h3>
<pre class="test-failed">
description: Tests imported from utd-sv
rc: 1 (means success: 0)
should_fail: 0
tags: utd-sv
incdirs: /tmpfs/src/github/sv-tests/third_party/tests/utd-sv
top_module: 
type: parsing
mode: parsing
files: <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v</a>
time_elapsed: 0.020s
ram usage: 11696 KB
</pre>
<pre class="log">

moore -I /tmpfs/src/github/sv-tests/third_party/tests/utd-sv -e ucb_flow_jbi <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v</a>
warning: cast ignored during constant evaluation
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-58" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:58</a>:33-6124:
   | 
   | `define         UCB_BUF_DEPTH   2
   |                                 ^
   = note: Casts `2
`define         UCB_BUF_WIDTH   64+(`UCB_ADDR_HI-`UCB_ADDR_LO+1)+(`UCB_SIZE_HI-`UCB_SIZE_LO+1)+(`UCB_BUF_HI-`UCB_BUF_LO+1)+(`UCB_THR_HI-`UCB_THR_LO+1)+1+1

module ucb_flow_jbi (/*AUTOARG*/
   // Outputs
   ucb_iob_stall, rd_req_vld, wr_req_vld, thr_id_in, buf_id_in, 
   size_in, addr_in, data_in, ack_busy, int_busy, ucb_iob_vld, 
   ucb_iob_data, 
   // Inputs
   clk, rst_l, iob_ucb_vld, iob_ucb_data, req_acpted, rd_ack_vld, 
   rd_nack_vld, thr_id_out, buf_id_out, data128, data_out, int_vld, 
   int_typ, int_thr_id, dev_id, int_stat, int_vec, iob_ucb_stall
   );
   // synopsys template
   
   parameter IOB_UCB_WIDTH = 32;  // data bus width from IOB to UCB
   parameter UCB_IOB_WIDTH = 8;   // data bus width from UCB to IOB
   parameter REG_WIDTH     = 128;  // please do not change this parameter
   

   // Globals
   input                                clk;
   input 				rst_l;
   
   // Request from IO Bridge
   input 				iob_ucb_vld;
   input [IOB_UCB_WIDTH-1:0] 		iob_ucb_data;
   output 				ucb_iob_stall;

   // Request to local unit
   output 				rd_req_vld;
   output 				wr_req_vld;
   output [`UCB_THR_HI-`UCB_THR_LO:0]   thr_id_in;
   output [`UCB_BUF_HI-`UCB_BUF_LO:0]   buf_id_in;
   output [`UCB_SIZE_HI-`UCB_SIZE_LO:0] size_in;   // only pertinent to JBI and SPI
   output [`UCB_ADDR_HI-`UCB_ADDR_LO:0] addr_in;
   output [`UCB_DATA_HI-`UCB_DATA_LO:0] data_in;
   input 				req_acpted;
   
   // Ack/Nack from local unit
   input 				rd_ack_vld;
   input 				rd_nack_vld;
   input [`UCB_THR_HI-`UCB_THR_LO:0] 	thr_id_out;
   input [`UCB_BUF_HI-`UCB_BUF_LO:0] 	buf_id_out;
   input 				data128;   // set to 1 if data returned is 128 bit
   input [REG_WIDTH-1:0] 		data_out;
   output 				ack_busy;

   // Interrupt from local unit
   input 				int_vld;
   input [`UCB_PKT_HI-`UCB_PKT_LO:0] 	int_typ;          // interrupt type
   input [`UCB_THR_HI-`UCB_THR_LO:0] 	int_thr_id;       // interrupt thread ID
   input [`UCB_INT_DEV_HI-`UCB_INT_DEV_LO:0] dev_id;      // interrupt device ID
   input [`UCB_INT_STAT_HI-`UCB_INT_STAT_LO:0] int_stat;  // interrupt status
   input [`UCB_INT_VEC_HI-`UCB_INT_VEC_LO:0]   int_vec;   // interrupt vector
   output 				int_busy;
   
   // Output to IO Bridge
   output 				ucb_iob_vld;
   output [UCB_IOB_WIDTH-1:0] 		ucb_iob_data;
   input 				iob_ucb_stall;
   
   // Local signals
   wire                                 indata_buf_vld;
   wire [127:0]                         indata_buf;
   wire                                 ucb_iob_stall_a1;
   
   wire                                 read_pending;
   wire                                 write_pending;
   
   wire 				rd_buf;
   wire [`UCB_BUF_DEPTH-1:0] 		buf_head_next;
   wire [`UCB_BUF_DEPTH-1:0] 		buf_head;
   wire 				wr_buf;
   wire [`UCB_BUF_DEPTH-1:0] 		buf_tail_next;
   wire [`UCB_BUF_DEPTH-1:0] 		buf_tail;
   wire 				buf_full_next;
   wire 				buf_full;
   wire 				buf_empty_next;
   wire 				buf_empty;
   wire [`UCB_BUF_WIDTH-1:0] 		req_in;
   wire 				buf0_en;
   wire [`UCB_BUF_WIDTH-1:0] 		buf0;
   wire 				buf1_en;
   wire [`UCB_BUF_WIDTH-1:0] 		buf1;
   wire [`UCB_BUF_WIDTH-1:0] 		req_out;
   wire 				rd_req_vld_nq;
   wire 				wr_req_vld_nq;

   wire                                 ack_buf_rd;
   wire                                 ack_buf_wr;
   wire                                 ack_buf_vld;
   wire                                 ack_buf_vld_next;
   wire                                 ack_buf_is_nack;
   wire                                 ack_buf_is_data128;
   wire [`UCB_PKT_HI-`UCB_PKT_LO:0]     ack_typ_out;
   wire [REG_WIDTH+`UCB_BUF_HI-`UCB_PKT_LO:0] ack_buf_in;
   wire [REG_WIDTH+`UCB_BUF_HI-`UCB_PKT_LO:0] ack_buf;
   wire [(REG_WIDTH+64)/UCB_IOB_WIDTH-1:0] ack_buf_vec;
   
   wire                                 int_buf_rd;
   wire                                 int_buf_wr;
   wire                                 int_buf_vld;
   wire                                 int_buf_vld_next;
   wire [`UCB_INT_VEC_HI-`UCB_PKT_LO:0] int_buf_in;
   wire [`UCB_INT_VEC_HI-`UCB_PKT_LO:0] int_buf;
   wire [(REG_WIDTH+64)/UCB_IOB_WIDTH-1:0] int_buf_vec;
   
   wire                                 int_last_rd;
   wire                                 outdata_buf_busy;
   wire                                 outdata_buf_wr;
   wire [REG_WIDTH+63:0]                outdata_buf_in;
   wire [(REG_WIDTH+64)/UCB_IOB_WIDTH-1:0] outdata_vec_in;
   
   
////////////////////////////////////////////////////////////////////////
// Code starts here
////////////////////////////////////////////////////////////////////////
   /************************************************************
    * Inbound Data
    ************************************************************/
   // Register size is hardcoded to 64 bits here
   ucb_bus_in #(IOB_UCB_WIDTH,64) ucb_bus_in (.rst_l(rst_l),
                                              .clk(clk),
                                              .vld(iob_ucb_vld),
                                              .data(iob_ucb_data),
                                              .stall(ucb_iob_stall),
                                              .indata_buf_vld(indata_buf_vld),
                                              .indata_buf(indata_buf),
                                              .stall_a1(ucb_iob_stall_a1));


   /************************************************************
    * Decode inbound packet type
    ************************************************************/
   assign 	 read_pending = (indata_buf[`UCB_PKT_HI:`UCB_PKT_LO] ==
				 `UCB_READ_REQ) &amp;
			        indata_buf_vld;

   assign 	 write_pending = (indata_buf[`UCB_PKT_HI:`UCB_PKT_LO] == 
				  `UCB_WRITE_REQ) &amp;
        	                  indata_buf_vld;

   assign 	 ucb_iob_stall_a1 = (read_pending | write_pending) &amp; buf_full;

   
   /************************************************************
    * Inbound buffer
    ************************************************************/
   // Head pointer
   assign 	 rd_buf = req_acpted;
   assign 	 buf_head_next = ~rst_l ? `UCB_BUF_DEPTH&#39;b01` from `bit [1:0]` to `logic [1:0]`
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-58" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:58</a>:33-6124:
   | 
   | `define         UCB_BUF_DEPTH   2
   |                                 ^

warning: cast ignored during constant evaluation
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-58" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:58</a>:33-6548:
   | 
   | `define         UCB_BUF_DEPTH   2
   |                                 ^
   = note: Casts `2
`define         UCB_BUF_WIDTH   64+(`UCB_ADDR_HI-`UCB_ADDR_LO+1)+(`UCB_SIZE_HI-`UCB_SIZE_LO+1)+(`UCB_BUF_HI-`UCB_BUF_LO+1)+(`UCB_THR_HI-`UCB_THR_LO+1)+1+1

module ucb_flow_jbi (/*AUTOARG*/
   // Outputs
   ucb_iob_stall, rd_req_vld, wr_req_vld, thr_id_in, buf_id_in, 
   size_in, addr_in, data_in, ack_busy, int_busy, ucb_iob_vld, 
   ucb_iob_data, 
   // Inputs
   clk, rst_l, iob_ucb_vld, iob_ucb_data, req_acpted, rd_ack_vld, 
   rd_nack_vld, thr_id_out, buf_id_out, data128, data_out, int_vld, 
   int_typ, int_thr_id, dev_id, int_stat, int_vec, iob_ucb_stall
   );
   // synopsys template
   
   parameter IOB_UCB_WIDTH = 32;  // data bus width from IOB to UCB
   parameter UCB_IOB_WIDTH = 8;   // data bus width from UCB to IOB
   parameter REG_WIDTH     = 128;  // please do not change this parameter
   

   // Globals
   input                                clk;
   input 				rst_l;
   
   // Request from IO Bridge
   input 				iob_ucb_vld;
   input [IOB_UCB_WIDTH-1:0] 		iob_ucb_data;
   output 				ucb_iob_stall;

   // Request to local unit
   output 				rd_req_vld;
   output 				wr_req_vld;
   output [`UCB_THR_HI-`UCB_THR_LO:0]   thr_id_in;
   output [`UCB_BUF_HI-`UCB_BUF_LO:0]   buf_id_in;
   output [`UCB_SIZE_HI-`UCB_SIZE_LO:0] size_in;   // only pertinent to JBI and SPI
   output [`UCB_ADDR_HI-`UCB_ADDR_LO:0] addr_in;
   output [`UCB_DATA_HI-`UCB_DATA_LO:0] data_in;
   input 				req_acpted;
   
   // Ack/Nack from local unit
   input 				rd_ack_vld;
   input 				rd_nack_vld;
   input [`UCB_THR_HI-`UCB_THR_LO:0] 	thr_id_out;
   input [`UCB_BUF_HI-`UCB_BUF_LO:0] 	buf_id_out;
   input 				data128;   // set to 1 if data returned is 128 bit
   input [REG_WIDTH-1:0] 		data_out;
   output 				ack_busy;

   // Interrupt from local unit
   input 				int_vld;
   input [`UCB_PKT_HI-`UCB_PKT_LO:0] 	int_typ;          // interrupt type
   input [`UCB_THR_HI-`UCB_THR_LO:0] 	int_thr_id;       // interrupt thread ID
   input [`UCB_INT_DEV_HI-`UCB_INT_DEV_LO:0] dev_id;      // interrupt device ID
   input [`UCB_INT_STAT_HI-`UCB_INT_STAT_LO:0] int_stat;  // interrupt status
   input [`UCB_INT_VEC_HI-`UCB_INT_VEC_LO:0]   int_vec;   // interrupt vector
   output 				int_busy;
   
   // Output to IO Bridge
   output 				ucb_iob_vld;
   output [UCB_IOB_WIDTH-1:0] 		ucb_iob_data;
   input 				iob_ucb_stall;
   
   // Local signals
   wire                                 indata_buf_vld;
   wire [127:0]                         indata_buf;
   wire                                 ucb_iob_stall_a1;
   
   wire                                 read_pending;
   wire                                 write_pending;
   
   wire 				rd_buf;
   wire [`UCB_BUF_DEPTH-1:0] 		buf_head_next;
   wire [`UCB_BUF_DEPTH-1:0] 		buf_head;
   wire 				wr_buf;
   wire [`UCB_BUF_DEPTH-1:0] 		buf_tail_next;
   wire [`UCB_BUF_DEPTH-1:0] 		buf_tail;
   wire 				buf_full_next;
   wire 				buf_full;
   wire 				buf_empty_next;
   wire 				buf_empty;
   wire [`UCB_BUF_WIDTH-1:0] 		req_in;
   wire 				buf0_en;
   wire [`UCB_BUF_WIDTH-1:0] 		buf0;
   wire 				buf1_en;
   wire [`UCB_BUF_WIDTH-1:0] 		buf1;
   wire [`UCB_BUF_WIDTH-1:0] 		req_out;
   wire 				rd_req_vld_nq;
   wire 				wr_req_vld_nq;

   wire                                 ack_buf_rd;
   wire                                 ack_buf_wr;
   wire                                 ack_buf_vld;
   wire                                 ack_buf_vld_next;
   wire                                 ack_buf_is_nack;
   wire                                 ack_buf_is_data128;
   wire [`UCB_PKT_HI-`UCB_PKT_LO:0]     ack_typ_out;
   wire [REG_WIDTH+`UCB_BUF_HI-`UCB_PKT_LO:0] ack_buf_in;
   wire [REG_WIDTH+`UCB_BUF_HI-`UCB_PKT_LO:0] ack_buf;
   wire [(REG_WIDTH+64)/UCB_IOB_WIDTH-1:0] ack_buf_vec;
   
   wire                                 int_buf_rd;
   wire                                 int_buf_wr;
   wire                                 int_buf_vld;
   wire                                 int_buf_vld_next;
   wire [`UCB_INT_VEC_HI-`UCB_PKT_LO:0] int_buf_in;
   wire [`UCB_INT_VEC_HI-`UCB_PKT_LO:0] int_buf;
   wire [(REG_WIDTH+64)/UCB_IOB_WIDTH-1:0] int_buf_vec;
   
   wire                                 int_last_rd;
   wire                                 outdata_buf_busy;
   wire                                 outdata_buf_wr;
   wire [REG_WIDTH+63:0]                outdata_buf_in;
   wire [(REG_WIDTH+64)/UCB_IOB_WIDTH-1:0] outdata_vec_in;
   
   
////////////////////////////////////////////////////////////////////////
// Code starts here
////////////////////////////////////////////////////////////////////////
   /************************************************************
    * Inbound Data
    ************************************************************/
   // Register size is hardcoded to 64 bits here
   ucb_bus_in #(IOB_UCB_WIDTH,64) ucb_bus_in (.rst_l(rst_l),
                                              .clk(clk),
                                              .vld(iob_ucb_vld),
                                              .data(iob_ucb_data),
                                              .stall(ucb_iob_stall),
                                              .indata_buf_vld(indata_buf_vld),
                                              .indata_buf(indata_buf),
                                              .stall_a1(ucb_iob_stall_a1));


   /************************************************************
    * Decode inbound packet type
    ************************************************************/
   assign 	 read_pending = (indata_buf[`UCB_PKT_HI:`UCB_PKT_LO] ==
				 `UCB_READ_REQ) &amp;
			        indata_buf_vld;

   assign 	 write_pending = (indata_buf[`UCB_PKT_HI:`UCB_PKT_LO] == 
				  `UCB_WRITE_REQ) &amp;
        	                  indata_buf_vld;

   assign 	 ucb_iob_stall_a1 = (read_pending | write_pending) &amp; buf_full;

   
   /************************************************************
    * Inbound buffer
    ************************************************************/
   // Head pointer
   assign 	 rd_buf = req_acpted;
   assign 	 buf_head_next = ~rst_l ? `UCB_BUF_DEPTH&#39;b01 :
                                 rd_buf ? {buf_head[`UCB_BUF_DEPTH-2:0],
				           buf_head[`UCB_BUF_DEPTH-1]} :
	                                  buf_head;
   dff_ns #(`UCB_BUF_DEPTH) buf_head_ff (.din(buf_head_next),
					 .clk(clk),
					 .q(buf_head));

   // Tail pointer
   assign 	 wr_buf = (read_pending |
		           write_pending) &amp;
			  ~buf_full;
   assign 	 buf_tail_next = ~rst_l ? `UCB_BUF_DEPTH&#39;b01` from `bit [1:0]` to `logic [1:0]`
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-58" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:58</a>:33-6548:
   | 
   | `define         UCB_BUF_DEPTH   2
   |                                 ^

 ERROR moore_svlog::mir::lower::lvalue &gt; Expr {
    id: n583,
    span: Source(1; &#34;<a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v</a>&#34;):11001-11104,
    kind: Concat(
        None,
        [
            n1536,
            n1537,
            n1538,
            n1539,
            n1540,
            n1541,
            n1542,
        ],
    ),
}
error: expression `{data_in,
		  addr_in,
		  size_in,
		  buf_id_in,
		  thr_id_in,
		  wr_req_vld_nq,
		  rd_req_vld_nq}` cannot be assigned to
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-276" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:276</a>:13-116:
   | 
   |    assign      {data_in,
   |                ^^^^^^^^^

warning: cast ignored during constant evaluation
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-293" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:293</a>:50-54:
   | 
   |    assign        ack_buf_vld_next = ack_buf_wr ? 1&#39;b1 :
   |                                                  ^^^^  
   = note: Casts `1&#39;b1` from `bit [0:0]` to `logic [0:0]`
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-293" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:293</a>:50-54:
   | 
   |    assign        ack_buf_vld_next = ack_buf_wr ? 1&#39;b1 :
   |                                                  ^^^^  

warning: cast ignored during constant evaluation
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-294" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:294</a>:50-54:
   | 
   |                                     ack_buf_rd ? 1&#39;b0 :
   |                                                  ^^^^  
   = note: Casts `1&#39;b0` from `bit [0:0]` to `logic [0:0]`
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-294" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:294</a>:50-54:
   | 
   |                                     ack_buf_rd ? 1&#39;b0 :
   |                                                  ^^^^  

warning: cast ignored during constant evaluation
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-329" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:329</a>:53-82:
   | 
   |                                                     {(64+64)/UCB_IOB_WIDTH{1&#39;b1}};
   |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 
   = note: Casts `{(64+64)/UCB_IOB_WIDTH{1&#39;b1}}` from `logic [15:0]` to `logic [23:0]`
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-329" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:329</a>:53-82:
   | 
   |                                                     {(64+64)/UCB_IOB_WIDTH{1&#39;b1}};
   |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 

warning: cast ignored during constant evaluation
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-340" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:340</a>:50-54:
   | 
   |    assign        int_buf_vld_next = int_buf_wr ? 1&#39;b1 :
   |                                                  ^^^^  
   = note: Casts `1&#39;b1` from `bit [0:0]` to `logic [0:0]`
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-340" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:340</a>:50-54:
   | 
   |    assign        int_buf_vld_next = int_buf_wr ? 1&#39;b1 :
   |                                                  ^^^^  

warning: cast ignored during constant evaluation
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-341" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:341</a>:50-54:
   | 
   |                                     int_buf_rd ? 1&#39;b0 :
   |                                                  ^^^^  
   = note: Casts `1&#39;b0` from `bit [0:0]` to `logic [0:0]`
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-341" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:341</a>:50-54:
   | 
   |                                     int_buf_rd ? 1&#39;b0 :
   |                                                  ^^^^  

warning: cast ignored during constant evaluation
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-360" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:360</a>:32-123:
   | 
   |    assign        int_buf_vec = {{REG_WIDTH/UCB_IOB_WIDTH{1&#39;b0}},
   |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   = note: Casts `{{REG_WIDTH/UCB_IOB_WIDTH{1&#39;b0}},
                                {64/UCB_IOB_WIDTH{1&#39;b1}}}` from `logic [23:0]` to `bit [23:0]`
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-360" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:360</a>:32-123:
   | 
   |    assign        int_buf_vec = {{REG_WIDTH/UCB_IOB_WIDTH{1&#39;b0}},
   |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error: unknown module or interface `ucb_bus_in`
  --&gt; <a href="../../../../third_party/tests/utd-sv/ucb_flow_jbi.v.html#l-180" target="file-frame">third_party/tests/utd-sv/ucb_flow_jbi.v:180</a>:4-14:
   | 
   |    ucb_bus_in #(IOB_UCB_WIDTH,64) ucb_bus_in (.rst_l(rst_l),
   |    ^^^^^^^^^^                                               


</pre>
</body>